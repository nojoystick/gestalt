(this.webpackJsonpgestalt=this.webpackJsonpgestalt||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n(0),i=n.n(a),r=n(13),c=n.n(r),s=n(4),l=n(19),d=n(24),u=n(28),b=n(2),p=n(11),f=n(38),x=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,null,[{key:"unlockAudioContext",value:function(){if("suspended"===e.context.state){var t=document.body,n=["touchstart","touchend","mousedown","keydown"];n.forEach((function(e){return t.addEventListener(e,o,!1)}))}function o(){e.context.resume().then(a)}function a(){n.forEach((function(e){return t.removeEventListener(e,o)}))}}},{key:"monkeyPatch",value:function(){window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=window.webkitAudioContext,window.AudioContext.prototype.hasOwnProperty("createOscillator")&&(window.AudioContext.prototype.internal_createOscillator=window.AudioContext.prototype.createOscillator,window.AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start?(e.internal_start=e.start,e.start=function(t){e.internal_start(t||0)}):e.start=function(e){this.noteOn(e||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(e){this.noteOff(e||0)},e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),h(e.frequency),h(e.detune),e}))}}]),e}();function h(e){e&&(e.setTargetAtTime||(e.setTargetAtTime=e.setTargetValueAtTime))}x.context=new(window.AudioContext||window.webkitAudioContext),x.masterGainNode=x.context.createGain(),x.preampGainNode=x.context.createGain();var m=x,j=n(6),g=n(16),O=n.n(g),v={title:"hey there",body:"unfortunately, the MIDI drivers for gestalt aren't supported in your browser. sorry about that! give it a shot in Chrome, Edge, or Opera. \u2728"},y=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],o=t[1],i=Object(s.b)();Object(a.useEffect)((function(){try{O.a.enable((function(){i(oe.setScanningForDevice(!0)),O.a.addListener("connected",(function(e){console.log(e),i(oe.setDeviceConnected(!0)),i(oe.setScanningForDevice(!1)),setTimeout((function(){return o((function(e){return!e}))}),500)})),O.a.addListener("disconnected",(function(e){0===O.a.inputs.length&&(i(oe.setDeviceConnected(!1)),i(oe.setScanningForDevice(!0)),setTimeout((function(){return o((function(e){return!e}))}),500))})),O.a.inputs.forEach((function(e){e.addListener("noteon","all",(function(e){i(ne.noteOn(e))})),e.addListener("noteoff","all",(function(e){i(ne.noteOff(e))})),e.addListener("pitchbend","all",(function(e){i(ne.pitchBend(e))})),e.addListener("controlchange","all",(function(e){switch(console.log("controlChange",e),e.value){case 64:i(ne.togglePedal(e));break;default:return null}}))}))}))}catch(e){console.log("error"),i(oe.setNotification(v)),setTimeout((function(){return i(oe.setModalVisible(!0),3e3)}))}}),[n,i])},w=function e(t,n){Object(p.a)(this,e),this.min=t,this.max=n},C=function e(t,n){Object(p.a)(this,e),this.options=t,this.labels=n},E=function e(t){var n=t.type,o=t.name,a=t.value,i=t.min,r=t.max,c=t.hideLabel,s=void 0===c||c,l=t.options,d=t.labels,u=t.top,b=t.left,f=t.size,x=t.padding;Object(p.a)(this,e),this.type=n,this.name=o,this.value=a,this.hideLabel=s,this.top=u,this.left=b,this.size=f,this.padding=x,"knobs"===n?this.config=new w(i,r):"radioButtons"===n&&(this.config=new C(l,d))},k={background:"#FFE6EC",secondaryBackground:"#FFD1DC",tertiaryBackground:"#FCFAED",quarternaryBackground:"rgba(179, 129, 140, 1.0)",quinternaryBackground:"rgba(199, 181, 205, 1.0)",text:"#454545",text40:"rgba(69, 69, 69, 0.4)",a:"#599BAB",a40:"rgba(89, 155, 171, 0.3)",a50:"rgba(89, 155, 171, 0.5)",a80:"rgba(89, 155, 171, 0.7)",b:"#CE8C77",b40:"rgba(206, 140, 119, 0.3)",b50:"rgba(206, 140, 119, 0.5)",b80:"rgba(206, 140, 119, 0.7)",c:"#B087AE",c40:"rgba(176, 135, 174, 0.3)",c50:"rgba(176, 135, 174, 0.5)",c80:"rgba(176, 135, 174, 0.7)",d:"#4B365F",d40:"rgba(75, 54, 95, 0.3)",d50:"rgba(75, 54, 95, 0.5)",d80:"rgba(75, 54, 95, 0.7)",e:"#E8585C",e40:"rgba(232, 88, 92, 0.3)",e50:"rgba(232, 88, 92, 0.5)",e80:"rgba(232, 88, 92, 0.7)",f:"#76B675",f40:"rgba(118, 182, 117, 0.3)",f50:"rgba(118, 182, 117, 0.5)",f80:"rgba(118, 182, 117, 0.7)",g:"#8C8C8C",g40:"rgba(140, 140, 140, 0.3)",g50:"rgba(140, 140, 140, 0.5)",g80:"rgba(140, 140, 140, 0.7)",h:"#94445D",h40:"rgba(148, 68, 93, 0.3)",h50:"rgba(148, 68, 93, 0.5)",h80:"rgba(148, 68, 93, 0.7)",i:"#C29A48",i40:"rgba(194, 154, 72, 0.3)",i50:"rgba(194, 154, 72, 0.5)",i80:"rgba(194, 154, 72, 0.7)",boxShadow:"4px 10px 10px 4px rgba(0, 0, 0, 0.25)",boxShadowLight:"0px 4px 10px 1px rgba(0, 0, 0, 0.25)",boxShadowDark:"4px 10px 20px 4px rgba(0, 0, 0, 0.25)"},L="Inconsolata",T="Roboto Light",S={fontFamily:L,h1:"600 50px/20px ".concat(L),h2:"600 36px/30px ".concat(L),h3:"600 28px/30px ".concat(L),h4:"600 22px/20px ".concat(L),h5:"600 16px/18px ".concat(L),header:"600 14px/14px ".concat(L),body:"400 16px/24px ".concat(L),bodySemibold:"600 16px/24px ".concat(L),bodyBold:"700 14px/16px ".concat(T),bodyS:"400 14px/16px ".concat(T),subh4:"italic 300 20px/24px ".concat(T),subh5:"italic 300 14px/18px ".concat(T)},N=function(){},A=function e(t){var n=this,o=t.title,a=void 0===o?"effect":o,i=t.subtitle,r=void 0===i?"a new effect":i,c=t.isActive,s=void 0===c||c,l=t.description,d=void 0===l?"a goofy write-up":l,u=t.params,f=void 0===u?[]:u,x=t.borderColor,h=void 0===x?k.a:x,m=t.fillColor,j=void 0===m?k.a40:m,g=t.activeColor,O=void 0===g?k.a80:g,v=t.previewImage,y=void 0===v?null:v,w=t.processingFunction,C=void 0===w?N:w;Object(p.a)(this,e),this.title=a,this.subtitle=r,this.description=d,this.isActive=s,this.borderColor=h,this.fillColor=j,this.activeColor=O,this.previewImage=y,this.processingFunction=C,this.params={},Object.keys(f).forEach((function(e){n.params[e]=[],f[e].forEach((function(t){n.params[e].push(new E(Object(b.a)({type:e},t)))}))}))},I={SPEAKER:{path:"M46.547,75.521c0,1.639-0.947,3.128-2.429,3.823c-0.573,0.271-1.187,0.402-1.797,0.402c-0.966,0-1.923-0.332-2.696-0.973l-23.098-19.14H4.225C1.892,59.635,0,57.742,0,55.409V38.576c0-2.334,1.892-4.226,4.225-4.226h12.303l23.098-19.14c1.262-1.046,3.012-1.269,4.493-0.569c1.481,0.695,2.429,2.185,2.429,3.823L46.547,75.521L46.547,75.521z M62.784,68.919c-0.103,0.007-0.202,0.011-0.304,0.011c-1.116,0-2.192-0.441-2.987-1.237l-0.565-0.567c-1.482-1.479-1.656-3.822-0.408-5.504c3.164-4.266,4.834-9.323,4.834-14.628c0-5.706-1.896-11.058-5.484-15.478c-1.366-1.68-1.24-4.12,0.291-5.65l0.564-0.565c0.844-0.844,1.975-1.304,3.199-1.231c1.192,0.06,2.305,0.621,3.061,1.545c4.977,6.09,7.606,13.484,7.606,21.38c0,7.354-2.325,14.354-6.725,20.24C65.131,68.216,64.007,68.832,62.784,68.919z M80.252,81.976c-0.764,0.903-1.869,1.445-3.052,1.495c-0.058,0.002-0.117,0.004-0.177,0.004c-1.119,0-2.193-0.442-2.988-1.237l-0.555-0.555c-1.551-1.55-1.656-4.029-0.246-5.707c6.814-8.104,10.568-18.396,10.568-28.982c0-11.011-4.019-21.611-11.314-29.847c-1.479-1.672-1.404-4.203,0.17-5.783l0.554-0.555c0.822-0.826,1.89-1.281,3.115-1.242c1.163,0.033,2.263,0.547,3.036,1.417c8.818,9.928,13.675,22.718,13.675,36.01C93.04,59.783,88.499,72.207,80.252,81.976z",viewBox:"0 0 93 93"},ARROW:{path:"M1 9L12 2L22 9",viewBox:"0 0 23 11",fill:"none",strokeWidth:"3"},DELETE:{path:"M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z",viewBox:"0 0 50 50"},PLUS:{path:"M0 29.6605H31.3043H60M29.6568 0V60",viewBox:"0 0 60 60",fill:"none",strokeWidth:"3"},PENCIL:{path:"M 20.09375 0.25 C 19.5 0.246094 18.917969 0.457031 18.46875 0.90625 L 17.46875 1.9375 L 24.0625 8.5625 L 25.0625 7.53125 C 25.964844 6.628906 25.972656 5.164063 25.0625 4.25 L 21.75 0.9375 C 21.292969 0.480469 20.6875 0.253906 20.09375 0.25 Z M 16.34375 2.84375 L 14.78125 4.34375 L 21.65625 11.21875 L 23.25 9.75 Z M 13.78125 5.4375 L 2.96875 16.15625 C 2.71875 16.285156 2.539063 16.511719 2.46875 16.78125 L 0.15625 24.625 C 0.0507813 24.96875 0.144531 25.347656 0.398438 25.601563 C 0.652344 25.855469 1.03125 25.949219 1.375 25.84375 L 9.21875 23.53125 C 9.582031 23.476563 9.882813 23.222656 10 22.875 L 20.65625 12.3125 L 19.1875 10.84375 L 8.25 21.8125 L 3.84375 23.09375 L 2.90625 22.15625 L 4.25 17.5625 L 15.09375 6.75 Z M 16.15625 7.84375 L 5.1875 18.84375 L 6.78125 19.1875 L 7 20.65625 L 18 9.6875 Z"},SETTINGS:{path:"M24 13.616v-3.232c-1.651-.587-2.694-.752-3.219-2.019v-.001c-.527-1.271.1-2.134.847-3.707l-2.285-2.285c-1.561.742-2.433 1.375-3.707.847h-.001c-1.269-.526-1.435-1.576-2.019-3.219h-3.232c-.582 1.635-.749 2.692-2.019 3.219h-.001c-1.271.528-2.132-.098-3.707-.847l-2.285 2.285c.745 1.568 1.375 2.434.847 3.707-.527 1.271-1.584 1.438-3.219 2.02v3.232c1.632.58 2.692.749 3.219 2.019.53 1.282-.114 2.166-.847 3.707l2.285 2.286c1.562-.743 2.434-1.375 3.707-.847h.001c1.27.526 1.436 1.579 2.019 3.219h3.232c.582-1.636.75-2.69 2.027-3.222h.001c1.262-.524 2.12.101 3.698.851l2.285-2.286c-.744-1.563-1.375-2.433-.848-3.706.527-1.271 1.588-1.44 3.221-2.021zm-12 2.384c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4z",viewBox:"0 0 24 24"}},M={MOBILE:645,TABLET:1e3},D=n.p+"static/media/glanz.c63dd6ec.png",B=n.p+"static/media/l\xfcgner.3dadb09f.png",P=n.p+"static/media/nojoystick.9a346413.png",_=n.p+"static/media/pendeln.ae355d20.png",F=n.p+"static/media/post.d6b86012.png",V=n.p+"static/media/reflektion.e17bd2f7.png",R=n.p+"static/media/sieb.bd116f8b.png",W=n.p+"static/media/verbrecher.020c46a5.png",z=n.p+"static/media/wiedersehen.e633e363.png",G=[{title:"glanz",subtitle:"preamp and equalizer",description:"",borderColor:k.a,fillColor:k.a40,activeColor:k.a80,previewImage:D,params:{knobs:[{name:"bass",min:"0",max:"100",value:"60",hideLabel:!0},{name:"mid",min:"0",max:"100",value:"20",hideLabel:!0},{name:"treble",min:"0",max:"100",value:"40",hideLabel:!0},{name:"gain",min:"0",max:"100",value:"0",hideLabel:!0}]}},{title:"l\xfcgner",subtitle:"distortion",description:"",borderColor:k.b,fillColor:k.b40,activeColor:k.b80,previewImage:B,params:{knobs:[{name:"amt",min:"0",max:"100",value:"20",hideLabel:"true"},{name:"warmth",min:"0",max:"100",value:"40",hideLabel:"false"}],switches:[{name:"velocity",value:!0}]}},{title:"no joystick",subtitle:"chaos",description:"",borderColor:k.c,fillColor:k.c40,activeColor:k.c80,previewImage:P},{title:"pendeln",subtitle:"lfo",description:"",borderColor:k.d,fillColor:k.d40,activeColor:k.d80,previewImage:_,params:{knobs:[{name:"rate",min:"0",max:"2000",step:"1",value:"0",hideLabel:!0},{name:"depth",min:"0",max:"2000",value:"2000",hideLabel:!0}]}},{title:"post",subtitle:"envelope",description:"from me to you",params:{knobs:[{name:"a",min:"0",max:"2000",step:"1",value:"0",hideLabel:!0},{name:"d",min:"0",max:"2000",value:"2000",hideLabel:!0},{name:"s",min:"0",max:"2000",value:"1000",hideLabel:!0},{name:"r",min:"0",max:"2000",value:"0",hideLabel:!0}]},borderColor:k.e,fillColor:k.e40,activeColor:k.e80,previewImage:F},{title:"reflektion",subtitle:"reverb",description:"find a chamber to reflekt",borderColor:k.f,fillColor:k.f40,activeColor:k.f80,previewImage:V,params:{radioButtons:[{name:"type",options:["plate","spring","room","cathedral"],labels:["plate","spring","room","cathedral"],value:"room",hideLabel:"true"}],knobs:[{name:"amt",min:"0",max:"100",value:"20",hideLabel:"true"},{name:"warmth",min:"0",max:"100",value:"40",hideLabel:"true"},{name:"high",min:"0",max:"100",value:"20",hideLabel:"true"},{name:"pre-del",min:"0",max:"100",value:"0",hideLabel:"false"}],switches:[{name:"velocity",value:!0}]}},{title:"sieb",subtitle:"filter",description:"",borderColor:k.g,fillColor:k.g40,activeColor:k.g80,previewImage:R,params:{radioButtons:[{name:"type",options:["low pass","high pass","band pass","band reject","peak"],labels:["low pass","high pass","band pass","band reject","peak"],value:"low pass",hideLabel:"true"}],knobs:[{min:"0",max:"20000",value:"0",hideLabel:"false",name:"freq"},{min:"0",max:"50",value:"0",hideLabel:"false",name:"q"}]}},{title:"verbrecher",subtitle:"bitcrusher",description:"",borderColor:k.h,fillColor:k.h40,activeColor:k.h80,previewImage:W,params:{knobs:[{name:"bits",min:"1",max:"64",value:"16",hideLabel:"false"},{name:"amt",min:"0",max:"100",value:"40",hideLabel:"true"}],switches:[{name:"velocity",value:!0}]}},{title:"wiedersehen",subtitle:"delay",description:"once was never enough",borderColor:k.i,fillColor:k.i40,activeColor:k.i80,previewImage:z,params:{knobs:[{name:"amt",min:"0",max:"2000",step:"1",value:"0",hideLabel:!0,top:"0px",left:"0px",size:"70",padding:"5px"},{name:"time",min:"0",max:"2000",value:"2000",hideLabel:!0,top:"0px",left:"80px",size:"115",padding:"5px"},{name:"filter",min:"0",max:"20000",value:"1000",hideLabel:!0,top:"90px",left:"10px",size:"70",padding:"5px"},{name:"detune",min:"0",max:"100",value:"0",hideLabel:!0,top:"125px",left:"95px",size:"70",padding:"5px"}]}}],H=[{borderColor:k.a,fillColor:k.a40,activeColor:k.a80},{borderColor:k.b,fillColor:k.b40,activeColor:k.b80},{borderColor:k.c,fillColor:k.c40,activeColor:k.c80},{borderColor:k.d,fillColor:k.d40,activeColor:k.d80},{borderColor:k.e,fillColor:k.e40,activeColor:k.e80},{borderColor:k.f,fillColor:k.f40,activeColor:k.f80},{borderColor:k.g,fillColor:k.g40,activeColor:k.g80},{borderColor:k.h,fillColor:k.h40,activeColor:k.h80},{borderColor:k.i,fillColor:k.i40,activeColor:k.i80}],U=[0,0,.001,.003,.005,.008,.011,.015,.02,.025,.031,.037,.044,.052,.06,.068,.077,.087,.097,.107,.118,.13,.141,.153,.166,.179,.192,.205,.219,.233,.247,.261,.276,.29,.305,.32,.335,.35,.365,.381,.396,.411,.426,.441,.457,.472,.486,.501,.516,.531,.545,.559,.573,.587,.601,.614,.628,.641,.653,.666,.678,.69,.702,.714,.725,.736,.746,.757,.767,.777,.786,.796,.805,.813,.822,.83,.838,.845,.853,.86,.867,.873,.88,.886,.892,.897,.903,.908,.913,.917,.922,.926,.93,.934,.938,.942,.945,.948,.951,.954,.957,.96,.962,.965,.967,.969,.971,.973,.975,.976,.978,.979,.981,.982,.983,.984,.986,.987,.988,.988,.989,.99,.991,.991,.992,.993,.994,1],q=[8.176,8.662,9.177,9.723,10.301,10.913,11.562,12.25,12.978,13.75,14.568,15.434,16.352,17.324,18.354,19.445,20.602,21.827,23.125,24.5,25.957,27.5,29.135,30.868,32.703,34.648,36.708,38.891,41.203,43.654,46.249,48.999,51.913,55,58.27,61.735,65.406,69.296,73.416,77.782,82.407,87.307,92.499,97.999,103.826,110,116.541,123.471,130.813,138.591,146.832,155.563,164.814,174.614,184.997,195.998,207.652,220,233.082,246.942,261.626,277.183,293.665,311.127,329.628,349.228,369.994,391.995,415.305,440,466.164,493.883,523.251,554.365,587.33,622.254,659.255,698.456,739.989,783.991,830.609,880,932.328,987.767,1046.502,1108.731,1174.659,1244.508,1318.51,1396.913,1479.978,1567.982,1661.219,1760,1864.655,1975.533,2093.005,2217.461,2349.318,2489.016,2637.02,2793.826,2959.955,3135.963,3322.438,3520,3729.31,3951.066,4186.009,4434.922,4698.636,4978.032,5274.041,5587.652,5919.911,6271.927,6644.875,7040,7458.62,7902.133,8372.018,8869.844,9397.273,9956.063,10548.082,11175.303,11839.822,12543.854],K={effects:[],volume:0,tempo:0,activeNotes:{},coreAudio:{}},Z=function(e,t){var n=m.context.createGain();return n.gain.setValueCurveAtTime($(0,e),t,.015),n},$=function(e,t){var n=0,o=new Float32Array(11);e=Math.max(e,1e-7),t=Math.max(t,1e-7);for(var a=0;a<=10;++a)o[a]=e*Math.pow(t/e,n),n+=.1;return o},X=function(e){return Object.values(e.activeNotes).forEach((function(e){e.stop(m.context.currentTime)})),Object(b.a)(Object(b.a)({},e),{},{activeNotes:{}})},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EFFECT":return Object(b.a)(Object(b.a)({},e),{},{effects:[].concat(Object(u.a)(e.effects),[new A(t.payload)])});case"INITIALIZE_EFFECTS":return Object(b.a)({},e);case"ADD_NOTE":var n=Z(t.payload.rawVelocity,m.context.currentTime);n.connect(m.preampGainNode);var o=m.context.createOscillator();return o.connect(n),o.frequency.setValueAtTime(q[t.payload.note.number],m.context.currentTime),o.start(m.context.currentTime),Object(b.a)(Object(b.a)({},e),{},{activeNotes:Object(b.a)(Object(b.a)({},e.activeNotes),{},Object(d.a)({},t.payload.note.number,o))});case"CLEAR_AUDIO_BUFFER":return X(e);case"REMOVE_NOTE":try{var a=e.activeNotes[t.payload.note.number];a.stop(m.context.currentTime);var i=e.activeNotes;return delete i[t.payload.note.number],Object(b.a)(Object(b.a)({},e),{},{activeNotes:i})}catch(p){return X(e)}case"REMOVE_EFFECT":var r=e.effects.slice();return r.splice(t.payload,1),Object(b.a)(Object(b.a)({},e),{},{effects:r});case"PITCH_BEND":case"TOGGLE_PEDAL":return Object(b.a)({},e);case"TOGGLE_EFFECT":var c=e.effects.slice();return c[t.payload].isActive=!c[t.payload].isActive,Object(b.a)(Object(b.a)({},e),{},{effects:c});case"SET_AUDIO_STATE":return Object(b.a)(Object(b.a)({},e),{},{coreAudio:{status:t.payload,isActive:"running"===t.payload}});case"SET_VOLUME":console.log("set volume",t.payload);var s="MIDI"===t.scale?U[t.payload]:t.payload;return m.masterGainNode.gain.setValueAtTime(s,m.context.currentTime),Object(b.a)(Object(b.a)({},e),{},{volume:t.payload});case"SET_TEMPO":return Object(b.a)(Object(b.a)({},e),{},{tempo:t.payload});case"UPDATE_EFFECT_PARAM":var l=e.effects.slice();return l[t.indexOfEffect]&&l[t.indexOfEffect].params[t.typeOfParam]&&l[t.indexOfEffect].params[t.typeOfParam][t.indexOfParam]&&(l[t.indexOfEffect].params[t.typeOfParam][t.indexOfParam].value=t.value),Object(b.a)(Object(b.a)({},e),{},{effects:l});default:return Object(b.a)({},e)}},J={width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<=M.MOBILE,isTablet:window.innerWidth>M.MOBILE&&window.innerWidth<=M.TABLET,isDesktop:window.innerWidth>M.TABLET,keyboardInput:!1,modalVisible:!1,notification:{},selectedPreset:0,presetNames:[],deviceConnected:!1,scanningForDevice:!1,showHelp:!0,effects:[]},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEVICE_CONNECTED":return Object(b.a)(Object(b.a)({},e),{},{deviceConnected:t.payload});case"SET_DIMENSIONS":return Object(b.a)(Object(b.a)({},e),{},{width:t.payload.width,height:t.payload.height,isMobile:t.payload.width<=M.MOBILE,isTablet:t.payload.width>M.MOBILE&&t.payload.width<=M.TABLET,isDesktop:t.payload.width>M.TABLET});case"SET_KEYBOARD_INPUT":return Object(b.a)(Object(b.a)({},e),{},{keyboardInput:void 0===t.payload?!e.keyboardInput:t.payload});case"SET_MODAL_VISIBLE":return Object(b.a)(Object(b.a)({},e),{},{modalVisible:t.payload});case"SET_NOTIFICATION":return Object(b.a)(Object(b.a)({},e),{},{notification:t.payload});case"SET_PRESET_NAME":return e.presetNames[t.payload.index]=t.payload.name,Object(b.a)({},e);case"SET_SCANNING":return Object(b.a)(Object(b.a)({},e),{},{scanningForDevice:t.payload});case"SET_SELECTED_PRESET":return Object(b.a)(Object(b.a)({},e),{},{selectedPreset:t.payload});case"SET_SHOW_HELP":return Object(b.a)(Object(b.a)({},e),{},{showHelp:void 0===t.payload?!e.showHelp:t.payload});default:return Object(b.a)({},e)}},ee=Object(l.b)({audio:Y,config:Q}),te=Object(l.c)(ee),ne={addEffect:function(e){return{type:"ADD_EFFECT",payload:e}},clearAudioBuffer:function(){return{type:"CLEAR_AUDIO_BUFFER"}},noteOn:function(e){return{type:"ADD_NOTE",payload:e}},noteOff:function(e){return{type:"REMOVE_NOTE",payload:e}},pitchBend:function(e){return{type:"PITCH_BEND",payload:e}},removeEffect:function(e){return{type:"REMOVE_EFFECT",payload:e}},setTempo:function(e){return{type:"SET_TEMPO",payload:e}},setVolume:function(e,t){return{type:"SET_VOLUME",scale:t||"MIDI",payload:e}},toggleEffect:function(e){return{type:"TOGGLE_EFFECT",payload:e}},togglePedal:function(e){return{type:"TOGGLE_PEDAL",payload:e}},setAudioState:function(e){return{type:"SET_AUDIO_STATE",payload:e}},updateEffectParam:function(e){return{type:"UPDATE_EFFECT_PARAM",indexOfEffect:e.indexOfEffect,indexOfParam:e.indexOfParam,typeOfParam:e.type,value:e.value}}},oe={setDeviceConnected:function(e){return{type:"SET_DEVICE_CONNECTED",payload:e}},setDimensions:function(e,t){return{type:"SET_DIMENSIONS",payload:{width:e,height:t}}},setKeyboardInput:function(e){return{type:"SET_KEYBOARD_INPUT",payload:e}},setModalVisible:function(e){return{type:"SET_MODAL_VISIBLE",payload:e}},setNotification:function(e){return{type:"SET_NOTIFICATION",payload:e}},setPreset:function(e){return{type:"SET_SELECTED_PRESET",payload:e}},setPresetName:function(e,t){return{type:"SET_PRESET_NAME",payload:{name:e,index:t}}},setScanningForDevice:function(e){return{type:"SET_SCANNING",payload:e}},setShowHelp:function(e){return{type:"SET_SHOW_HELP",payload:e}}};var ae={title:"hey there",body:"unfortunately, the MIDI drivers for gestalt aren't supported in your browser. sorry about that! give it a shot in Chrome, Edge, or Opera. \u2728"},ie=function(){var e=Object(s.b)();Object(a.useEffect)((function(){var t=!!window.opr&&!!window.opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0,n=!!!document.documentMode&&!!window.StyleMedia,o=window.chrome||!!window.chrome.webstore||!!window.chrome.runtime;n||o||t||(e(oe.setNotification(ae)),setTimeout((function(){return e(oe.setModalVisible(!0),3e3)})))}),[e])};var re=function(e,t){var n=70+57*Math.random();return{channel:10,data:[153,e.keyCode,n],note:{number:e.keyCode,name:null,octave:null},rawVelocity:n,target:null,timestamp:0,type:t?"noteon":"noteoff",velocity:.5511811023622047}},ce=n(74),se=function(e){var t=e.style,n=void 0===t?{}:t,a=e.fill,i=void 0===a?"#000":a,r=e.stroke,c=void 0===r?"none":r,s=e.width,l=void 0===s?"100%":s,d=e.strokeWidth,u=void 0===d?"0":d,b=e.className,p=void 0===b?"":b,f=e.height,x=void 0===f?"100%":f,h=e.viewBox,m=void 0===h?"0 0 32 32":h,j=e.path;return Object(o.jsxs)("svg",{width:l,style:n,height:x,viewBox:m,className:p,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:["string"===typeof j&&Object(o.jsx)("path",{d:j,fill:i,stroke:c,strokeWidth:u}),j&&Array.isArray(j)&&j.map((function(e,t){return Object(o.jsx)("path",{d:e,fill:i,stroke:c,strokeWidth:u},t)})),"object"===typeof j&&"string"===typeof j.path?Object(o.jsx)("path",{d:j.path,fill:i,stroke:c,strokeWidth:u}):j.path&&Array.isArray(j.path)&&j.map((function(e,t){return Object(o.jsx)("path",{d:e,fill:i,stroke:c,strokeWidth:u},t)})),j.rect&&j.rect.map((function(e,t){return Object(o.jsx)("rect",{fill:i,x:e.x,y:e.y,transform:e.transform,width:e.width,height:e.height},t)})),j.circle&&j.circle.map((function(e,t){return Object(o.jsx)("circle",{fill:i,cx:e.cx,cy:e.cy,r:e.r},t)}))]})},le=Object(ce.a)({tabs:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},tab:{width:"14px",height:"14px",borderRadius:"10px",border:"none",outline:"none",backgroundColor:k.quinternaryBackground,margin:"6px",cursor:"pointer",transition:"background-color 0.5s","&:hover":{backgroundColor:k.text}},selected:{backgroundColor:k.text},plus:{backgroundColor:"transparent",cursor:"pointer",border:"none",outline:"none","&:hover":{color:k.text}}}),de=function(e){var t=e.selectedTab,n=e.setSelectedTab,i=e.numTabs,r=e.setNumTabs,c=e.addPlus,s=e.maxNumTabs,l=Object(a.useState)(!1),d=Object(j.a)(l,2),p=d[0],f=d[1],x=le();return Object(o.jsxs)("span",{className:x.tabs,children:[Object(u.a)(Array(i)).map((function(e,a){return Object(o.jsx)("button",{className:"".concat(x.tab," ").concat(t===a&&x.selected),onClick:function(){return n(a)}},a)})),c&&i<s&&Object(o.jsx)("button",{className:x.plus,onClick:function(){i<=s&&r((function(e){return++e}))},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},children:Object(o.jsx)(se,Object(b.a)(Object(b.a)({className:x.icon},I.PLUS),{},{stroke:p?k.text:k.quinternaryBackground,width:14,height:14,strokeWidth:10}))})]})},ue=Object(ce.a)({panel:{position:"relative",border:"3px solid ".concat(k.text),boxShadow:k.boxShadow,width:"200px",height:"250px",padding:"11px",backgroundColor:k.secondaryBackground,margin:"10px",flexShrink:0},tabs:{position:"absolute",bottom:"0px",left:"0px",width:"100%"},plusContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},plus:{backgroundColor:"transparent",width:"50%",cursor:"pointer",border:"none",outline:"none","&:hover":{color:k.text}}}),be=function(e){var t=e.title,n=void 0===t?"gestalt":t,i=e.subtitle,r=void 0===i?"synthesizer":i,c=e.params,l=e.index,d=e.isActive,u=e.isAddButton,p=Object(a.useState)(0),f=Object(j.a)(p,2),x=f[0],h=f[1],m=Object(a.useState)(!1),g=Object(j.a)(m,2),O=g[0],v=g[1],y=Object(s.b)(),w=ue();return Object(o.jsx)("div",{className:w.panel,children:u?Object(o.jsx)("span",{className:w.plusContainer,children:Object(o.jsx)("button",{className:w.plus,onClick:function(){y(oe.setNotification({title:"library",body:Object(o.jsx)(ke,{}),buttonText:"cancel"})),setTimeout((function(){return y(oe.setModalVisible(!0),3e3)}))},onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)},onFocus:function(){return v(!0)},onBlur:function(){return v(!1)},children:Object(o.jsx)(se,Object(b.a)(Object(b.a)({},I.PLUS),{},{stroke:O?k.text:k.quinternaryBackground,strokeWidth:2}))})}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Fe,{title:n,subtitle:r,isActive:d,index:l}),Object(o.jsx)(Ie,{params:c,tabIndex:x,index:l}),Object(o.jsx)("span",{className:w.tabs,children:Object(o.jsx)(de,{selectedTab:x,setSelectedTab:h,numTabs:2})})]})})},pe=Object(ce.a)({board:{display:"flex",flexDirection:"row",flexWrap:function(e){return e.isMobile?"nowrap":"wrap"},justifyContent:function(e){return e.isMobile?"start":"center"},margin:function(e){return e.isTablet?"10px 10px 40px 10px":"10px"},maxWidth:function(e){return e.isMobile?"calc(100% - 80px)":"unset"},overflow:"auto",padding:function(e){return e.isMobile?"20px":"0px"},backgroundColor:function(e){return e.isMobile?k.tertiaryBackground:"unset"},boxShadow:function(e){return e.isMobile?k.boxShadowDark:"unset"}}}),fe=function(){var e=Object(s.c)((function(e){return e.config.isMobile})),t=Object(s.c)((function(e){return e.config.isTablet})),n=Object(s.c)((function(e){return e.audio.effects})),a=pe({isMobile:e,isTablet:t});return Object(o.jsxs)("div",{className:a.board,children:[n&&n.map((function(e,t){return Object(o.jsx)(be,Object(b.a)(Object(b.a)({},e),{},{index:t}),t)})),(!n||n.length<8)&&Object(o.jsx)(be,{isAddButton:!0})]})},xe=Object(ce.a)({panel:{border:"3px solid ".concat(k.text),boxShadow:k.boxShadow,width:function(e){return e.isMobile?"100%":"320px"},height:"155px",backgroundColor:k.secondaryBackground,display:"flex",justifyContent:"space-evenly",alignItems:"center",margin:function(e){return"".concat(e.isMobile?"20px":"0px"," 20px 0px 20px")}},column:{display:"flex",flexDirection:"column",height:"80%",width:"35px",marginLeft:"5px",justifyContent:"space-around"}}),he=function(){var e,t=Object(s.c)((function(e){return e.config.isMobile})),n=Object(s.c)((function(e){return e.config.scanningForDevice})),i=Object(s.c)((function(e){return e.config.deviceConnected})),r=Object(s.c)((function(e){return e.audio.coreAudio.status})),c=Object(s.c)((function(e){return e.audio.coreAudio.isActive})),l=xe({isMobile:t}),d=Object(s.b)(),u=["connected to device ".concat(i),"no midi device connected"],p=["audio context is ".concat(r),"audio context is ".concat(r)],f=0,x=[{label:Object(o.jsx)(se,Object(b.a)(Object(b.a)({},I.SPEAKER),{},{width:40,height:40,fill:k.text})),name:"volume",value:e,setValue:function(t){e=t,d(ne.setVolume(t))},min:0,max:127},{name:"tempo",value:f,setValue:function(e){f=e,d(ne.setTempo(e))},min:6,max:300}];return Object(o.jsxs)("div",{className:l.panel,children:[x.map((function(e,t){return Object(a.createElement)(Ce,Object(b.a)(Object(b.a)({},e),{},{key:t}))})),Object(o.jsxs)("div",{className:l.column,children:[Object(o.jsx)(Ze,{}),Object(o.jsx)(ye,{isActive:i,isScanning:n,label:"MIDI",tooltipMessages:u}),Object(o.jsx)(ye,{isActive:c,isScanning:!1,label:"audio",tooltipMessages:p})]})]})},me=Object(ce.a)({header:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:function(e){return e.isMobile?"center":"space-between"}},title:{font:S.h1,color:k.text,margin:"20px",userSelect:"none"}}),je=function(){var e=Object(s.c)((function(e){return e.config.isMobile})),t=me({isMobile:e});return Object(o.jsxs)("div",{className:t.header,children:[Object(o.jsx)("h1",{className:t.title,children:"name"}),Object(o.jsx)(he,{})]})},ge=n(27),Oe=(n(34),n(35),n(36),Object(ce.a)({container:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},parent:{position:"relative",background:k.tertiaryBackground,width:"30px",height:"30px",borderRadius:"50%",boxShadow:k.boxShadow},scanContainer:{position:"absolute",top:"0px",left:"0px",width:"30px",height:"30px",borderRadius:"50%"},rotate1:{animation:"$rotate 1.75s infinite",animationTimingFunction:"cubic-bezier(.17,.67,.89,.33)"},rotate2:{animation:"$rotate 1.5s infinite",animationTimingFunction:"cubic-bezier(.51,.55,.36,.87)"},scanBulb:{position:"absolute",width:"10px",height:"10px",borderRadius:"50%",zIndex:-1},bulb1:{width:"5px",height:"5px",background:k.d50,top:"0px",left:"12.5px"},bulb2:{background:k.c50,top:"10px",left:"20px"},light:{position:"absolute",top:"5px",left:"5px",width:"20px",height:"20px",borderRadius:"10px",zIndex:1},redLight:{backgroundColor:k.e50},greenLight:{backgroundColor:k.a80},"@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(720deg)"}},tooltipParent:{padding:"5px",boxShadow:k.boxShadow,borderRadius:"4px",border:"2px solid ".concat(k.text),backgroundColor:"".concat(k.background," !important"),width:"fit-content"},tooltipContent:{display:"flex",flexDirection:"row",flexWrap:"nowrap",color:k.text,font:S.h5,whiteSpace:"nowrap"}})),ve=function(e){var t=e.isActive,n=e.tooltipMessages,a=Oe();return Object(o.jsx)("span",{className:a.tooltipContent,children:t?n[0]:n[1]})},ye=function(e){var t=e.isScanning,n=e.isActive,a=e.label,i=e.tooltipMessages,r=Oe();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("span",{className:r.parent,children:[t&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"".concat(r.scanContainer," ").concat(r.rotate1),children:Object(o.jsx)("span",{className:"".concat(r.scanBulb," ").concat(r.bulb1)})}),Object(o.jsx)("span",{className:"".concat(r.scanContainer," ").concat(r.rotate2),children:Object(o.jsx)("span",{className:"".concat(r.scanBulb," ").concat(r.bulb2)})})]}),Object(o.jsx)(ge.a,{content:Object(o.jsx)(ve,{isActive:n,tooltipMessages:i}),className:r.tooltipParent,theme:"light",animation:"scale",interactive:!0,placement:"left",children:Object(o.jsx)("span",{className:"".concat(r.light," ").concat(n?r.greenLight:r.redLight)})})]}),Object(o.jsx)("span",{children:a})]})},we=n(33),Ce=(n(52),function(e){var t=e.size,n=void 0===t?100:t,a=e.padding,i=void 0===a?0:a,r=e.max,c=void 0===r?100:r,l=e.min,d=void 0===l?0:l,u=e.backgroundColor,b=void 0===u?k.secondaryBackground:u,p=e.label,f=e.name,x=e.value,h=e.setValue,m=e.style,j=e.absPositioning,g={0:{left:n/3,top:n-15-n/1.9},1:{left:n/2.5,top:n-15-n/1.9},2:{left:n/2,top:n-15-n/1.9},3:{left:n/2.7,top:n-15-n/2.3},4:{left:n/3.2,top:n-15-n/2.3},5:{left:n/3.6,top:n-15-n/2.3},6:{left:n-23-n/2,top:n-15-n/2.3},7:{left:n-28-n/2,top:n-15-n/2.3}},O=Object(ce.a)({container:{position:j?"absolute":"relative",display:"flex",flexDirection:"column",alignItems:"center",padding:i},value:{font:S.h3,fill:k.text},label:{font:p&&p.length>1?S.h5:S.h3,color:k.text,position:"absolute",top:g[p&&p.length?p.length:"0"].top,left:g[p&&p.length?p.length:"0"].left},name:{marginTop:"5px",font:S.body,userSelect:"none"}}),v={donutColor:k.text,bgrColor:k.tertiaryBackground,centerColor:b,centerFocusedColor:b,donutThickness:7},y={borderRadius:"".concat(n/2,"px"),boxShadow:k.boxShadow,"&:hover":{opacity:"0.8"},"&:focus":{opacity:"0.8"}},w=O();Object(s.b)();return p?Object(o.jsxs)("div",{style:m,className:"".concat(w.container," knob-no-value"),children:[Object(o.jsx)(we.a,{diameter:n,min:d,max:c,step:1,value:x,onValueChange:h,theme:v,knobStyle:y,children:p&&Object(o.jsx)("span",{className:w.label,children:p})}),Object(o.jsx)("span",{className:w.name,children:f})]}):Object(o.jsxs)("div",{className:"".concat(w.container),style:m,children:[Object(o.jsx)(we.a,{diameter:n,min:d,max:c,step:1,value:x,onValueChange:h,className:w.knob,theme:v,knobStyle:y}),Object(o.jsx)("span",{className:w.name,children:f})]})}),Ee=Object(ce.a)({parent:{display:"flex",flexDirection:"row",flexWrap:"nowrap",overflow:"scroll"},noFootprintButton:{border:"none",outline:"none",backgroundColor:"transparent",padding:"0px",margin:"0px",cursor:"pointer"},img:{height:"250px"},column:{display:"flex",flexDirection:"column",justifyContent:"start",padding:"20px"},description:{font:S.bodyS,fontStyle:"italic",margin:"15px 0px",textAlign:"center"}}),ke=function(){var e=Ee(),t=Object(s.b)();return Object(o.jsx)("div",{className:e.parent,children:G.map((function(n,a){return Object(o.jsxs)("div",{className:e.column,children:[Object(o.jsx)("button",{className:e.noFootprintButton,onClick:function(){return function(e){t(ne.addEffect(e)),t(oe.setModalVisible(!1)),setTimeout((function(){return t(oe.setNotification())}),500)}(n)},children:Object(o.jsx)("img",{className:e.img,src:n.previewImage,alt:n.title})}),Object(o.jsx)("span",{className:e.description,children:n.description})]},a)}))})},Le=Object(ce.a)({button:{width:"120px",height:"40px",borderWidth:"3px 3px 0px 3px",borderColor:k.text,backgroundColor:k.secondaryBackground,transition:"opacity 1s",padding:"0px",margin:"0px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer","&:hover":{opacity:"0.6"}},icon:{transform:function(e){return e.isActive?"rotate(180deg)":"rotate(0deg)"},transition:"transform 0.5s"}}),Te=function(e){var t=e.customStyle,n=e.isActive,a=e.onClick,i=Le({isActive:n});return Object(o.jsx)("button",{className:"".concat(i.button," ").concat(t),onClick:a,children:Object(o.jsx)(se,Object(b.a)(Object(b.a)({className:i.icon},I.ARROW),{},{stroke:k.text,width:30,height:15}))})},Se=Object(ce.a)({container:{position:"absolute",backgroundColor:k.text40,top:"0px",left:"0px",height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"9999",transition:"opacity 0.5s",opacity:function(e){return e.shouldShow?"1.0":"0.0"},overflow:"hidden"},modal:{minWidth:"350px",maxWidth:"80%",maxHeight:"90%",backgroundColor:k.tertiaryBackground,boxShadow:k.boxShadowDark,padding:"15px",display:"flex",flexDirection:"column"},title:{font:S.h3,color:k.text},body:{font:S.bodySemibold,color:k.text},button:{font:S.h5,backgroundColor:k.b40,border:"2px solid ".concat(k.text),boxShadow:k.boxShadowLight,float:"right",padding:"10px",minWidth:"100px",cursor:"pointer"}}),Ne=function(){var e=Object(s.c)((function(e){return e.config.notification})),t=Se({shouldShow:e}),n=Object(s.b)();return Object(o.jsxs)("div",{className:t.modal,children:[Object(o.jsxs)("span",{children:[Object(o.jsx)("h3",{className:t.title,children:e&&e.title}),e&&"object"!==typeof e.body&&Object(o.jsx)("p",{className:t.body,children:e.body})]}),e&&"object"===typeof e.body&&e.body,Object(o.jsx)("span",{children:Object(o.jsx)("button",{className:t.button,onClick:function(){n(oe.setModalVisible(!1)),setTimeout((function(){return n(oe.setNotification())}),500)},children:e&&e.buttonText?e.buttonText:"ok"})})]})},Ae=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],i=t[1],r=Object(s.c)((function(e){return e.config.notification})),c=Object(s.c)((function(e){return e.config.modalVisible})),l=Se({shouldShow:n});return Object(a.useEffect)((function(){i(!0)}),[]),Object(a.useEffect)((function(){c||i(!1)}),[c]),Object(o.jsx)("div",{className:l.container,children:r&&Object(o.jsx)(Ne,{})})},Ie=function(e){var t=e.params,n=e.index,i=e.tabIndex,r=Object(ce.a)({parent:{position:"relative",height:"200px",width:"200px"}})();return Object(o.jsx)(o.Fragment,{children:0===i&&Object(o.jsxs)("div",{className:r.parent,children:[t&&t.knobs&&t.knobs.map((function(e,t){var o={position:"absolute !important",top:e.top,left:e.left,width:"".concat(e.size,"px")};return Object(a.createElement)(Ce,Object(b.a)(Object(b.a)(Object(b.a)({style:o},e),e.config),{},{name:e.hideLabel?"":e.name,label:e.hideLabel?e.name:"",key:t,setValue:ne.updateEffectParam,setValueParams:{indexOfEffect:n,indexOfParam:t,type:"knobs"},isDispatch:!0,absPositioning:!0}))})),t&&t.switches&&t.switches.map((function(e,t){return Object(a.createElement)(Pe,Object(b.a)(Object(b.a)(Object(b.a)({className:r.switch,isActive:e.value},e),e.config),{},{name:e.hideLabel?"":e.name,label:e.hideLabel?e.name:"",key:t,onChange:ne.updateEffectParam,changeParam:{indexOfEffect:n,indexOfParam:t,type:"switches"},isDispatch:!0}))}))]})})},Me=n(75),De=n(14),Be=Object(De.a)((function(e){return{root:{width:50,height:28,padding:0,marginRight:"0px",borderRadius:"20%"},switchBase:{padding:1,"&$checked":{transform:"translateX(20px)",color:k.tertiaryBackground,"& + $track":{backgroundColor:k.quarternaryBackground,opacity:1,border:"none"}}},thumb:{width:20,height:20,margin:"1px 0px 0px 2px",borderRadius:"20%",color:k.tertiaryBackground,border:"2px solid ".concat(k.text)},track:{borderRadius:"20%",backgroundColor:k.tertiaryBackground,opacity:1,transition:e.transitions.create(["background-color"])},checked:{},focusVisible:{}}}))(Me.a),Pe=function(e){var t=e.isActive,n=e.onChange,a=e.isDispatch,i=e.changeParam,r=Object(s.b)();return Object(o.jsx)(Be,{checked:t,onChange:a?function(){return r(n(i))}:n,name:"checked"})},_e=Object(ce.a)({header:{display:"flex",justifyContent:"space-between",alignItems:"start"},title:{font:function(e){return e.isLarge?S.h2:S.h4},color:k.text,margin:"0px",userSelect:"none"},subtitle:{font:function(e){return e.isLarge?S.subh4:S.subh5},margin:function(e){return"0px 0px 0px ".concat(e.isLarge?"20px":"15px")},color:k.text,userSelect:"none"},titles:{display:"flex",flexDirection:"column",userSelect:"none"}}),Fe=function(e){var t=e.title,n=void 0===t?"gestalt":t,a=e.subtitle,i=void 0===a?"synthesizer":a,r=e.isLarge,c=e.index,s=e.isActive,l=_e({isLarge:r});return Object(o.jsxs)("div",{className:l.header,children:[Object(o.jsxs)("div",{className:l.titles,children:[Object(o.jsx)("h4",{className:l.title,children:n}),Object(o.jsx)("h5",{className:l.subtitle,children:i})]}),Object(o.jsx)(Pe,{isActive:s,onChange:ne.toggleEffect,changeParam:c,isDispatch:!0})]})},Ve=Object(ce.a)({button:{width:"135px",height:"135px",border:function(e){return"3px solid ".concat(e.borderColor)},backgroundColor:function(e){return e.fillColor},margin:"10px",flexShrink:0,outline:"none",cursor:"pointer","&:hover":{opacity:"0.8"}},active:{border:function(e){return"5px solid ".concat(e.borderColor)},backgroundColor:function(e){return e.activeColor},boxShadow:k.boxShadowDark}}),Re=function(e){var t=e.borderColor,n=e.fillColor,a=e.activeColor,i=e.index,r=Object(s.c)((function(e){return e.config.selectedPreset})),c=Object(s.b)(),l=Ve({borderColor:t,fillColor:n,activeColor:a});return Object(o.jsx)("button",{className:"".concat(l.button," ").concat(i===r&&l.active),onClick:function(){c(oe.setPreset(i))}})},We=Object(ce.a)({container:{backgroundColor:k.tertiaryBackground,display:"flex",width:"fit-content",minWidth:"100%",padding:"10px 0px",alignSelf:"center",boxSizing:"border-box",transition:"height 1s",overflow:"scroll"},buttonTile:{display:"flex",alignItems:"center",flexDirection:"column"},title:{position:"relative",font:S.h4,color:k.text,width:"135px",minHeight:"25px",backgroundColor:"transparent",border:"none",transition:"opacity 0.5s",cursor:"pointer",display:"flex",alignContent:"start",outline:"none","&:hover":{opacity:"0.6"}},icon:{position:"absolute",right:"0px",top:"5px"},input:{backgroundColor:"transparent",border:"none",borderBottom:"3px solid ".concat(k.text),font:S.h4,margin:"0px",padding:"0px",maxWidth:"135px",outline:"none"}}),ze=function(e){var t=e.customStyles,n=Object(a.useState)(-1),i=Object(j.a)(n,2),r=i[0],c=i[1],l=Object(a.useState)(-1),d=Object(j.a)(l,2),u=d[0],p=d[1],f=Object(s.c)((function(e){return e.config.presetNames})),x=Object(s.b)(),h=We();return Object(a.useEffect)((function(){var e=function(e){(e.ctrlKey||"Enter"===e.key)&&(x(oe.setPresetName(e.target.value,u)),p(-1))};return u?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[x,u]),Object(o.jsx)("div",{className:"".concat(h.container," ").concat(t),children:H.map((function(e,t){return Object(o.jsxs)("div",{className:h.buttonTile,children:[Object(a.createElement)(Re,Object(b.a)(Object(b.a)({},e),{},{index:t,key:t})),u===t?Object(o.jsx)("input",{className:h.input,defaultValue:f[t],onBlur:function(e){return function(e,t){x(oe.setPresetName(e.target.value,t)),p(-1)}(e,t)},maxLength:9,autoFocus:"autofocus"}):Object(o.jsxs)("button",{className:h.title,onMouseEnter:function(){return c(t)},onMouseLeave:function(){return c(-1)},onFocus:function(){return c(t)},onBlur:function(){return c(-1)},onClick:function(){return p(t)},children:[f[t],r===t&&Object(o.jsx)(se,{className:h.icon,path:I.PENCIL,width:16,height:16})]})]},t)}))})},Ge={title:"quelle",subtitle:"oscillators"},He=Object(ce.a)({panel:{position:"relative",border:"3px solid ".concat(k.text),boxShadow:k.boxShadow,margin:function(e){return e.isDesktop?"-50px 0px 0px 0px":"20px 0px 0px 0px"},width:function(e){return e.isTablet?"500px":e.isMobile?"calc(100% - 65px)":"300px"},height:function(e){return e.isTablet?"300px":"580px"},padding:"10px",backgroundColor:k.secondaryBackground,flexShrink:0},tabs:{position:"absolute",bottom:"0px",left:"0px",width:"100%"}}),Ue=function(e){var t=e.contents,n=Object(a.useState)(0),i=Object(j.a)(n,2),r=i[0],c=i[1],l=Object(a.useState)(2),d=Object(j.a)(l,2),u=d[0],p=d[1],f=Object(s.c)((function(e){return e.config.isMobile})),x=Object(s.c)((function(e){return e.config.isTablet})),h=Object(s.c)((function(e){return e.config.isDesktop})),m=He({isMobile:f,isTablet:x,isDesktop:h});return Object(o.jsxs)("div",{className:m.panel,children:[Object(o.jsx)(Fe,Object(b.a)(Object(b.a)({},Ge),{},{isLarge:!0})),t,Object(o.jsx)("span",{className:m.tabs,children:Object(o.jsx)(de,{selectedTab:r,setSelectedTab:c,numTabs:u,setNumTabs:p,addPlus:!0,maxNumTabs:5})})]})},qe=Object(ce.a)({gear:{width:"30px",height:"30px",transition:"opacity 0.5s",float:"right",cursor:"pointer","&:hover":{opacity:"0.8"}},tooltipParent:{padding:"5px",boxShadow:k.boxShadow,borderRadius:"4px",border:"2px solid ".concat(k.text),backgroundColor:"".concat(k.background," !important")},tooltipContent:{display:"flex",flexDirection:"row",flexWrap:"nowrap"},label:{font:S.h5,paddingRight:"15px"}}),Ke=function(){var e=qe(),t=Object(s.c)((function(e){return e.config.showHelp})),n=Object(s.c)((function(e){return e.config.keyboardInput}));return Object(o.jsx)("div",{className:e.tooltipContent,children:Object(o.jsx)("table",{children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:e.label,children:"show help"}),Object(o.jsx)("td",{children:Object(o.jsx)(Pe,{isActive:t,onChange:oe.setShowHelp,isDispatch:!0})})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{className:e.label,children:"keyboard input"}),Object(o.jsx)("td",{children:Object(o.jsx)(Pe,{isActive:n,onChange:oe.setKeyboardInput,isDispatch:!0})})]})]})})})},Ze=function(){var e=qe();return Object(o.jsx)(ge.a,{className:e.tooltipParent,content:Object(o.jsx)(Ke,{}),theme:"light",animation:"scale",interactive:!0,placement:"left",children:Object(o.jsx)("span",{children:Object(o.jsx)(se,{className:e.gear,path:I.SETTINGS,fill:k.text})})})},$e=Object(ce.a)({body:{position:"fixed",backgroundColor:function(e){return e.fadeIn?k.background:k.text},height:"100%",width:"100%",overflowY:"hidden",opacity:function(e){return e.fadeIn?"1.0":"0.0"},transition:"opacity 2s; background-color 5s"},scrollable:{height:function(e){return e.isMobile?"calc(100% - 20px)":"calc(100% - 30px)"},width:function(e){return e.isMobile?"calc(100% - 20px)":"calc(100% - 60px)"},padding:function(e){return e.isMobile?"10px":"30px 30px 0px 30px"},overflow:"scroll"},parent:{display:"flex",flexDirection:function(e){return e.isDesktop?"row":"column"},alignItems:function(e){return e.isDesktop?"unset":"center"}},button:{position:"absolute",bottom:function(e){return e.menuVisible?"220px":"0px"},left:"120px",transition:"bottom 1s, background-color 1s",cursor:"pointer",backgroundColor:function(e){return e.menuVisible?k.tertiaryBackground:k.secondaryBackground}},menu:{border:"3px solid ".concat(k.text),position:"absolute",bottom:"-30px",left:"0px",height:function(e){return e.menuVisible?"250px":"0px"},maxWidth:"100%",overflowX:"scroll"}});var Xe=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!1),c=Object(j.a)(r,2),l=c[0],d=c[1],u=Object(s.c)((function(e){return e.config.modalVisible})),b=Object(s.c)((function(e){return e.config.isDesktop})),p=Object(s.c)((function(e){return e.config.isMobile})),f=$e({isDesktop:b,isMobile:p,menuVisible:l,modalVisible:u,fadeIn:n});!function(){var e=Object(s.b)();Object(a.useEffect)((function(){var t=function(){e(oe.setDimensions(window.innerWidth,window.innerHeight))};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e])}(),ie(),y(),function(){var e=Object(s.c)((function(e){return e.config.keyboardInput})),t=Object(s.b)();Object(a.useEffect)((function(){var n=function(e){!e.repeat&&e.keyCode<=90&&t(ne.noteOn(re(e,!0)))},o=function(e){!e.repeat&&e.keyCode<=90&&t(ne.noteOff(re(e,!1)))},a=function(e){document.hidden&&t(ne.clearAudioBuffer())};return e?(window.addEventListener("keydown",n),window.addEventListener("keyup",o),window.addEventListener("visibilitychange",a)):(window.removeEventListener("keydown",n),window.removeEventListener("keyup",o),window.removeEventListener("visibilitychange",a)),function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",o),window.removeEventListener("visibilitychange",a)}}),[t,e])}(),function(){var e=Object(s.b)();Object(a.useEffect)((function(){var t=function(){e(ne.setAudioState(m.context.state))};m.context.onstatechange=t,t()}),[e])}();var x=function(e,t){var n=Object(a.useState)(!1),o=Object(j.a)(n,2),i=o[0],r=o[1];return Object(a.useEffect)((function(){var n;return e&&!i?r(!0):!e&&i&&(n=window.setTimeout((function(){return r(!1)}),t)),function(){return window.clearTimeout(n)}}),[e,t,i]),i}(u,1e3);return Object(a.useEffect)((function(){i(!0)}),[]),Object(a.useEffect)((function(){m.masterGainNode.gain.setValueAtTime(.5,m.context.currentTime),m.preampGainNode.connect(m.masterGainNode),m.masterGainNode.connect(m.context.destination),m.monkeyPatch(),m.unlockAudioContext()}),[]),Object(o.jsxs)("div",{className:f.body,children:[x&&Object(o.jsx)(Ae,{}),Object(o.jsxs)("div",{className:f.scrollable,children:[Object(o.jsxs)("div",{children:[Object(o.jsx)(je,{}),Object(o.jsxs)("div",{className:f.parent,children:[Object(o.jsx)(Ue,{}),Object(o.jsx)(fe,{})]})]}),Object(o.jsx)(Te,{customStyle:f.button,isActive:l,onClick:function(){d((function(e){return!e}))}}),Object(o.jsx)(ze,{customStyles:f.menu})]})]})};n(53);c.a.render(Object(o.jsx)(s.a,{store:te,children:Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(Xe,{})})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.816f7251.chunk.js.map